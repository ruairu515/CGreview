<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
  <title>マウスクリックによるオブジェクトの判定</title>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>


</head>
<body>
 <h1>work_lists</h1>
<!-- <a href="test2_index.html?sample1=cycle2color.js">リンクです</a>
 -->
<div id="list_target"></div>


<script type="text/javascript">
window.addEventListener("load", function () {
        $.ajax({
        type: 'POST',
        url: './assets/php/test2_list_get.php',
        dataType: "json",
    })
    .done(function(data, status, jqXHR){
    	list_data = data;
    	var name;
    	// console.log(list_data.length);
    	while(list_data.length > 0){
    		var i = 0;
    		// console.log(list_data.length+"::::"+list_data[i]);
    		name = list_data[i];
    		// console.log(name);
    		list_create(name);
    		list_data.shift();
    		i = i+1;
    	}
    })
    .fail(function(jqXHR, status, error){
         $("#list_data").html("エラーです");
         console.log(status);
    })
    .always(function(jqXHR, status){
        console.log(status);
    });
});
function list_create(name){
	var id = document.getElementById("list_target");
    var a1 = document.createElement("a");
    var br1 = document.createElement("br");
    var list_name = name;
    a1.href = 'test2_index.html?sample1='+list_name;
    a1.innerHTML = list_name;    
    id.appendChild(a1); 
    id.appendChild(br1);
}
</script>

</body>
</html>