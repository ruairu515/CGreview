<!doctype html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <title>test</title>
      <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
</head>
<body>

<h1>work_post</h1>

<!-- ajax送信 -->
<form id="my_form">
	<table border = 2>
		<tr>
			<th>jsonfile : </th>
			<td><input type="file" name="up_file[]"></td>
		</tr>
		<tr>
			<th>thumbnail : </th>
			<td><input type="file" name="up_file[]"></td>
		</tr>
	</table>
    <button type="button" onclick="file_upload()">upload</button>
</form>


<script type="text/javascript">
function file_upload()
{
    // フォームデータを取得
    var formdata1 = new FormData($('#my_form').get(0));

    // POSTでアップロード
    $.ajax({
        url  : "./assets/php/test2_file_post.php",
        type : "POST",
        data : formdata1,

        cache       : false,
        contentType : false,
        processData : false,
        dataType    : "html"
    })
    .done(function(data, textStatus, jqXHR){
        alert(data);
    })
    .fail(function(jqXHR, textStatus, errorThrown){
        alert("fail");
    });
}
</script>



<a href="./test2_file_post.html">upload_page</a>
<a href="./test2_file_list.html">list_page</a>
</body>
</html>


